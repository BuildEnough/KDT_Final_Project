{% extends 'base.html' %}

{% load static %}
{% load widget_tweaks %}
{% load django_bootstrap5 %}
{% load imagekit %}

{% block title %} | 프로필 수정{% endblock title %}
{% block style %}{% endblock style %}

{% block content %}
<section class="container accounts-wrapper">
  <h1 class="text-center">프로필 수정</h1>
  <form class='w-100' action="" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <h3 for="email">아이디</h3>
    <div class="login-field">
      <input type="email" name="username" value="{{ request.user.username }}" maxlength="254" class="focus-effect w-100 text-center" aria-label="Disabled input example" disabled readonly id="id_email">
      <span class="focus-border">
        <i></i>
      </span>
    </div>
    <h3 for="nickname">닉네임</h3>
    <div class="login-field text-center">
      {% render_field form.nickname class="focus-effect w-100 text-center"%}
      <span class="focus-border">
        <i></i>
      </span>
    </div>
    <h3 for="password">비밀번호</h3>
    <div class="login-field">
      <a class="focus-effect w-100" href="{% url 'accounts:password' %}">변경 페이지 바로가기 <i class="bi bi-arrow-right-circle-fill"></i></a>
      <span class="focus-border">
        <i></i>
      </span>
    </div>

    <h3 for="image">프로필 사진</h3>
    <div class="login-field">
      {% render_field form.image type="file" class="focus-effect w-100" name="image" %}
      <span class="focus-border">
        <i></i>
      </span>
    </div>
    
    <h3 for="gender">성별</h3>
    <div class="login-field">
      <p class="focus-effect w-100" name="gender">
        {% if user.gender == True %}
        남자
        {% else %}
        여자
        {% endif %}</p>
      <span class="focus-border">
        <i></i>
      </span>
    </div>
    
    <input class="login-button neg-btn" type="submit" value="저장">
  </form>
</section>
{% endblock content %}

{% block script %}{% endblock script %}